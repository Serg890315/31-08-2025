
if (typeof gdjs.evtsExt__Telegram__onFirstSceneLoaded !== "undefined") {
  gdjs.evtsExt__Telegram__onFirstSceneLoaded.registeredGdjsCallbacks.forEach(callback =>
    gdjs._unregisterCallback(callback)
  );
}

gdjs.evtsExt__Telegram__onFirstSceneLoaded = {};


gdjs.evtsExt__Telegram__onFirstSceneLoaded.userFunc0xa9bb10 = function GDJSInlineCode(runtimeScene, eventsFunctionContext) {
"use strict";
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});function xo(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function Xc(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function el(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function Se(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??el(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??Xc(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function K(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},xo())}}}function tl(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var nl=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function yn(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function tt(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function To(){return{kind:"schema",type:"any",reference:To,expects:"any",async:!1,get"~standard"(){return K(this)},"~run"(e){return e.typed=!0,e}}}function Ut(e){return{kind:"schema",type:"boolean",reference:Ut,expects:"boolean",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Se(this,"type",t,n),t}}}function gn(e){return{kind:"schema",type:"function",reference:gn,expects:"Function",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:Se(this,"type",t,n),t}}}function J(e,t){return{kind:"schema",type:"loose_object",reference:J,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return K(this)},"~run"(n,r){var o;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in s?s[i]:yn(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:s,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(o=n.issues)==null||o.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(Se(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)tl(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else Se(this,"type",n,r);return n}}}function xe(e,t){return{kind:"schema",type:"nullish",reference:xe,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return K(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=yn(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function zt(e){return{kind:"schema",type:"number",reference:zt,expects:"number",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Se(this,"type",t,n),t}}}function Gt(e,t){return{kind:"schema",type:"optional",reference:Gt,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return K(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=yn(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function re(e){return{kind:"schema",type:"string",reference:re,expects:"string",async:!1,message:e,get"~standard"(){return K(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Se(this,"type",t,n),t}}}function Bo(){return{kind:"schema",type:"unknown",reference:Bo,expects:"unknown",async:!1,get"~standard"(){return K(this)},"~run"(e){return e.typed=!0,e}}}function Qt(e,t,n){const r=e["~run"]({value:t},xo(n));if(r.issues)throw new nl(r.issues);return r.value}function Oo(...e){return{...e[0],pipe:e,get"~standard"(){return K(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function qo(e){return tt(J({TelegramWebviewProxy:J({postEvent:gn()})}),e)}function Io(){try{return window.self!==window.top}catch{return!0}}var rl=Object.defineProperty,ol=(e,t,n)=>t in e?rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zr=(e,t,n)=>ol(e,typeof t!="symbol"?t+"":t,n);function sl(e){return t=>t instanceof e}function jo(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,sl(n)]}const[il,Tm]=jo("CancelledError","Promise was canceled"),[al,Bm]=jo("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Do=Symbol("Resolved");function Xr(e){return Array.isArray(e)&&e[0]===Do}function ul(e){return[Do,e]}function eo(e,t){return e.reject=t.reject,e.abort=t.abort,e}let No=class Jt extends Promise{constructor(t,n){let r,o;super((s,i)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],l=d=>(...I)=>{const ee=d(...I);return c.forEach(Bt=>Bt()),ee},p=new AbortController,{signal:m}=p;o=d=>{!m.aborted&&p.abort(d)};const f=()=>m.reason,k=d=>{const I=()=>{d(f())};m.addEventListener("abort",I,!0);const ee=()=>{m.removeEventListener("abort",I,!0)};return c.push(ee),ee},ge=l(d=>{s(d),o(ul(d))});r=l(d=>{i(d),o(d)}),u||(u={});const{abortSignal:M,rejectOnAbort:ne=!0}=u;if(M)if(M.aborted){const{reason:d}=M;if(ne)return r(d);o(d)}else{const d=()=>{o(M.reason)};M.addEventListener("abort",d),c.push(()=>{M.removeEventListener("abort",d)})}ne&&k(i);const{timeout:w}=u;if(w){const d=setTimeout(()=>{o(new al(w))},w);c.push(()=>{clearTimeout(d)})}const S=()=>m.aborted,q=()=>Xr(f()),L=()=>{const d=f();return Xr(d)?d[1]:void 0};try{const d=a&&a(ge,r,{abortReason:f,abortSignal:m,isAborted:S,isResolved:q,onAborted:k,onResolved:I=>k(()=>{q()&&I(L())}),resolved:L,throwIfAborted(){if(S())throw f()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),Zr(this,"abort"),Zr(this,"reject"),this.abort=o,this.reject=r}static fn(t,n){return new Jt(async(r,o,s)=>{try{r(await t(s))}catch(i){o(i)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Jt((n,r)=>{r(t)})}cancel(){this.abort(new il)}catch(t){return this.then(void 0,t)}finally(t){return eo(super.finally(t),this)}then(t,n){return eo(super.then(t,n),this)}};function cl(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function ll(e){return Object.entries(e).reduce((t,[n,r])=>(t[cl(n)]=r,t),{})}function Kt(e){const t=ll(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Kt):Kt(r))}return t}function Vo(e){return`tapps/${e}`}function Lo(e,t){sessionStorage.setItem(Vo(e),JSON.stringify(t))}function pl(e){const t=sessionStorage.getItem(Vo(e));try{return t?JSON.parse(t):void 0}catch{}}function dl(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function fl(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:o}=t,s=o===void 0?!0:o,i=typeof s=="boolean"?()=>s:s;function a(u,c,...l){if(c||i()){const p="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${p};background-color: lightblue;color:black`,"",`${p};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[a.bind(void 0,"log"),a.bind(void 0,"error")]}function Ro(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function ml(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function hl(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function j(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??hl(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??ml(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function R(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ro())}}}function Ho(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function _l(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var bl=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Fo(e,t){return{kind:"validation",type:"check",reference:Fo,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&j(this,"input",n,r),n}}}function Wo(e){return{kind:"validation",type:"integer",reference:Wo,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&j(this,"integer",t,n),t}}}function se(e){return{kind:"transformation",type:"transform",reference:se,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Uo(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function yl(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Te(e){return{kind:"schema",type:"boolean",reference:Te,expects:"boolean",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:j(this,"type",t,n),t}}}function zo(e){return{kind:"schema",type:"date",reference:zo,expects:"Date",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?j(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:j(this,"type",t,n),t}}}function Go(e,t){return{kind:"schema",type:"instance",reference:Go,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return R(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:j(this,"type",n,r),n}}}function vn(e){return{kind:"schema",type:"lazy",reference:vn,expects:"unknown",async:!1,getter:e,get"~standard"(){return R(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ae(e,t){return{kind:"schema",type:"loose_object",reference:Ae,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return R(this)},"~run"(n,r){var o;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in s?s[i]:Uo(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:s,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(o=n.issues)==null||o.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(j(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)Ho(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else j(this,"type",n,r);return n}}}function En(e){return{kind:"schema",type:"number",reference:En,expects:"number",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:j(this,"type",t,n),t}}}function v(e,t){return{kind:"schema",type:"optional",reference:v,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return R(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Uo(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Qo(e,t,n){return{kind:"schema",type:"record",reference:Qo,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return R(this)},"~run"(r,o){var s,i;const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const u in a)if(Ho(a,u)){const c=a[u],l=this.key["~run"]({value:u},o);if(l.issues){const m={type:"object",origin:"key",input:a,key:u,value:c};for(const f of l.issues)f.path=[m],(s=r.issues)==null||s.push(f);if(r.issues||(r.issues=l.issues),o.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:c},o);if(p.issues){const m={type:"object",origin:"value",input:a,key:u,value:c};for(const f of p.issues)f.path?f.path.unshift(m):f.path=[m],(i=r.issues)==null||i.push(f);if(r.issues||(r.issues=p.issues),o.abortEarly){r.typed=!1;break}}(!l.typed||!p.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=p.value)}}else j(this,"type",r,o);return r}}}function y(e){return{kind:"schema",type:"string",reference:y,expects:"string",async:!1,message:e,get"~standard"(){return R(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:j(this,"type",t,n),t}}}function to(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Jo(e,t){return{kind:"schema",type:"union",reference:Jo,expects:_l(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return R(this)},"~run"(n,r){let o,s,i;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{o=u;break}else i?i.push(u):i=[u]}if(o)return o;if(s){if(s.length===1)return s[0];j(this,"type",n,r,{issues:to(s)}),n.typed=!0}else{if((i==null?void 0:i.length)===1)return i[0];j(this,"type",n,r,{issues:to(i)})}return n}}}function Ko(){return{kind:"schema",type:"unknown",reference:Ko,expects:"unknown",async:!1,get"~standard"(){return R(this)},"~run"(e){return e.typed=!0,e}}}function Yo(e,t,n){const r=e["~run"]({value:t},Ro(n));if(r.issues)throw new bl(r.issues);return r.value}function ie(...e){return{...e[0],pipe:e,get"~standard"(){return R(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function gl(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function vl(e){return Object.entries(e).reduce((t,[n,r])=>(t[gl(n)]=r,t),{})}function Yt(e){const t=vl(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Yt):Yt(r))}return t}function wn(e){return se(t=>e?Yt(t):t)}function Zo(e){return t=>ie(e,wn(t))}function El(e){return(t,n)=>Yo(ie(e,wn(n)),t)}function Sn(){return se(JSON.parse)}function $n(e){const t=Zo(e);return n=>ie(y(),Sn(),t(n))}function wl(e){return se(t=>{const n={};return new URLSearchParams(t).forEach((r,o)=>{const s=n[o];Array.isArray(s)?s.push(r):s===void 0?n[o]=r:n[o]=[s,r]}),Yo(e,n)})}function Xo(e){return t=>ie(Jo([y(),Go(URLSearchParams)]),wl(e),wn(t))}const no=v(vn(()=>kl())),Sl=Ae({id:En(),photo_url:v(y()),type:y(),title:y(),username:v(y())}),$l=Ae({added_to_attachment_menu:v(Te()),allows_write_to_pm:v(Te()),first_name:y(),id:En(),is_bot:v(Te()),is_premium:v(Te()),last_name:v(y()),language_code:v(y()),photo_url:v(y()),username:v(y())}),Al=Ae({auth_date:ie(y(),se(e=>new Date(Number(e)*1e3)),zo()),can_send_after:v(ie(y(),se(Number),Wo())),chat:v(vn(()=>Cl())),chat_type:v(y()),chat_instance:v(y()),hash:y(),query_id:v(y()),receiver:no,start_param:v(y()),signature:y(),user:no}),Cl=$n(Sl),kl=$n($l),Ml=Xo(Al);function Pl(e){return/^#[\da-f]{6}$/i.test(e)}const xl=Zo(Qo(y(),ie(y(),Fo(Pl),se(e=>e)))),Ot=v(ie(y(),se(e=>e==="1"))),ro=$n(xl()),Tl=Ae({tgWebAppBotInline:Ot,tgWebAppData:v(Ml()),tgWebAppDefaultColors:v(ro()),tgWebAppFullscreen:Ot,tgWebAppPlatform:y(),tgWebAppShowSettings:Ot,tgWebAppStartParam:v(y()),tgWebAppThemeParams:ro(),tgWebAppVersion:y()}),es=Xo(Tl),Bl=El(es()),ts=Ae({eventType:y(),eventData:v(Ko())});function ns(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,o])=>(Array.isArray(o)?n.push(...o.map(s=>[r,String(s)])):o!=null&&n.push([r,o instanceof Date?(o.getTime()/1e3|0).toString():typeof o=="string"||typeof o=="number"?String(o):typeof o=="boolean"?o?"1":"0":t(r,o)]),n),[])).toString()}function Ol(e){return ns(e)}function ql(e){return ns(e,(t,n)=>t==="tgWebAppData"?Ol(n):JSON.stringify(n))}function rs(e){try{return yl(es(),e)}catch{return!1}}function Il(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(o){o(n)}),(r=e.get("*"))&&r.slice().map(function(o){o(t,n)})}}}function jl(e,t){const n=Il(),r=new Map,o=(s,i,a)=>{a||(a=!1);const u=r.get(s)||new Map;r.set(s,u);const c=u.get(i)||[];u.set(i,c);const l=c.findIndex(p=>p[1]===a);l>=0&&(n.off(s,c[l][0]),c.splice(l,1),!c.length&&u.delete(i),u.size||(r.delete(s),!r.size&&t()))};return[function(s,i,a){!r.size&&e();function u(){o(s,i,a)}function c(...m){a&&u(),s==="*"?i(m):i(...m)}n.on(s,c);const l=r.get(s)||new Map;r.set(s,l);const p=l.get(i)||[];return l.set(i,p),p.push([c,a||!1]),u},o,n.emit,function(){const s=n.all.size;n.all.clear(),r.clear(),s&&t()}]}function Zt(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let Ge=!1;const[An,Dl]=fl("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return Ge}}),oo=e=>{An(!1,"Event received:",e)};function Nl(e){e!==Ge&&(Ge=e,Ge?A("*",oo):T("*",oo))}const Vl={clipboard_text_received:J({req_id:re(),data:xe(re())}),custom_method_invoked:J({req_id:re(),result:Gt(Bo()),error:Gt(re())}),popup_closed:xe(J({button_id:xe(re(),()=>{})}),{}),viewport_changed:J({height:zt(),width:xe(zt(),()=>window.innerWidth),is_state_stable:Ut(),is_expanded:Ut()})};function so(e){if(e.source!==window.parent)return;let t;try{t=Qt(Oo(re(),Sn(),ts),e.data)}catch{return}const{eventType:n,eventData:r}=t,o=Vl[n];try{const s=o?Qt(o,r):r;Ll(n,s)}catch(s){Dl(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(``),t,s)}}const[A,T,Ll,Om]=jl(()=>{const e=window,t={receiveEvent:Zt};e.TelegramGameProxy_receiveEvent=Zt,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",so)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",so)});function Rl(e){return t=>t instanceof e}function Ce(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Rl(n)]}const[os,Hl]=Ce("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[ss,Fl]=Ce("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),Wl=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(``),[is,Ul]=Ce("LaunchParamsRetrieveError",Wl),[as,zl]=Ce("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]),[us,Gl]=Ce("UnknownEnvError"),[cs,Ql]=Ce("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function Jl(e,t){t()}function Kl(e,t){t||(t={});const n=t.equals||Object.is;let r=[],o=e;const s=c=>{if(!n(o,c)){const l=o;o=c,Jl(u,()=>{[...r].forEach(([p,m])=>{p(c,l),m&&a(p,!0)})})}};function i(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const a=(c,l)=>{const p=i(l),m=r.findIndex(([f,k])=>f===c&&k.once===p.once&&k.signal===p.signal);m>=0&&r.splice(m,1)},u=Object.assign(function(){return Yl(u),o},{destroy(){r=[]},set:s,reset(){s(e)},sub(c,l){return r.push([c,i(l)]),()=>a(c,l)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const qt=[];function Yl(e){qt.length&&qt[qt.length-1].add(e)}const ls=Kl("https://web.telegram.org");function Cn(e,t){An(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(Io())return n.parent.postMessage(r,ls());if(qo(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(tt(J({external:J({notify:gn()})}),n)){n.external.notify(r);return}throw new us}function kn(e,t,n){n||(n={});const{capture:r}=n,[o,s]=dl();return new No(i=>{(Array.isArray(t)?t:[t]).forEach(a=>{o(A(a,u=>{(!r||(Array.isArray(t)?r({event:a,payload:u}):r(u)))&&i(u)}))}),(n.postEvent||Cn)(e,n.params)},n).finally(s)}const io="launchParams";function ao(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Mn(){for(const e of[()=>ao(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&ao(t.name)},()=>pl(io)]){const t=e();if(t&&rs(t))return Lo(io,t),t}throw new is}function nt(e){const t=Bl(Mn());return e?Kt(t):t}function Xt(e,t){if(!e)try{return nt(),!0}catch{return!1}return No.fn(async n=>{if(qo(window))return!0;try{return await kn("web_app_request_theme","theme_changed",n),!0}catch{return!1}},t||{timeout:100})}function Zl({launchParams:e,onEvent:t}={}){if(e){const o=typeof e=="string"||e instanceof URLSearchParams?e.toString():ql({...e,tgWebAppData:void 0})+(e.tgWebAppData?`&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}`:"");if(!rs(o))throw new as(o);Lo("launchParams",o)}if(Io()){const o=Oo(re(),Sn(),ts),s=window.parent.postMessage.bind(window.parent);window.parent.postMessage=(...i)=>{const[a]=i,u=()=>{s(...i)};if(tt(o,a)&&t){const c=Qt(o,a);t([c.eventType,c.eventData],u)}else u()};return}const n=window.TelegramWebviewProxy||{},{postEvent:r}=n;window.TelegramWebviewProxy={...n,postEvent(o,s){const i=()=>{r&&r(o,s)};t?t([o,s?JSON.parse(s):void 0],i):i()}},An(!1,"Environment was mocked by the mockTelegramEnv function")}function ps(){return new URLSearchParams(Mn()).get("tgWebAppData")||void 0}function ds(e){return({req_id:t})=>t===e}function uo(e){return e.split(".").map(Number)}function Xl(e,t){const n=uo(e),r=uo(t),o=Math.max(n.length,r.length);for(let s=0;s<o;s+=1){const i=n[s]||0,a=r[s]||0;if(i!==a)return i>a?1:-1}return 0}function P(e,t){return Xl(e,t)<=0}function ae(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return P("6.4",n);if(t==="try_browser")return P("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return P("6.9",n);if(e==="web_app_close"&&t==="return_back")return P("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return P("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return P("6.1",t);case"web_app_open_popup":return P("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return P("6.4",t);case"web_app_switch_inline_query":return P("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return P("6.9",t);case"web_app_setup_settings_button":return P("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return P("7.2",t);case"web_app_setup_swipe_behavior":return P("7.7",t);case"web_app_share_to_story":return P("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return P("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return P("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function fs(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:o,version:s}=r,i="param"in r?new ss(o,r.param,s):new os(o,s);if(t==="strict")throw i;return console.warn(i.message)};return(r,o)=>ae(r,e)?r==="web_app_set_header_color"&&tt(J({color:To()}),o)&&!ae(r,"color",e)?n({version:e,method:r,param:"color"}):Cn(r,o):n({version:e,method:r})}function ep(e,t,n,r){return kn("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:ds(n)}).then(({result:o,error:s})=>{if(s)throw new cs(s);return o})}function ms(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function tp(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function hs(e){return`tapps/${e}`}function W(e,t){sessionStorage.setItem(hs(e),JSON.stringify(t))}function U(e){const t=sessionStorage.getItem(hs(e));try{return t?JSON.parse(t):void 0}catch{}}function Pn(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function np(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:o}=t,s=o===void 0?!0:o,i=typeof s=="boolean"?()=>s:s;function a(u,c,...l){if(c||i()){const p="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${p};background-color: lightblue;color:black`,"",`${p};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...l)}}return[a.bind(void 0,"log"),a.bind(void 0,"error")]}function rp(){return performance.getEntriesByType("navigation")[0]}function z(){const e=rp();return!!e&&e.type==="reload"}let Ee;function op(e,t){Ee&&Ee.set(e,t)||t()}function en(e){if(Ee)return e();Ee=new Map;try{e()}finally{Ee.forEach(t=>t()),Ee=void 0}}function _s(e,t){t||(t={});const n=t.equals||Object.is;let r=[],o=e;const s=c=>{if(!n(o,c)){const l=o;o=c,op(u,()=>{[...r].forEach(([p,m])=>{p(c,l),m&&a(p,!0)})})}};function i(c){const l=typeof c!="object"?{once:c}:c;return{once:l.once||!1,signal:l.signal||!1}}const a=(c,l)=>{const p=i(l),m=r.findIndex(([f,k])=>f===c&&k.once===p.once&&k.signal===p.signal);m>=0&&r.splice(m,1)},u=Object.assign(function(){return sp(u),o},{destroy(){r=[]},set:s,reset(){s(e)},sub(c,l){return r.push([c,i(l)]),()=>a(c,l)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Oe=[];function sp(e){Oe.length&&Oe[Oe.length-1].add(e)}function ip(e,t){let n=new Set,r;function o(){return r||(r=_s(i(),t))}function s(){o().set(i())}function i(){n.forEach(c=>{c.unsub(s,{signal:!0})});const a=new Set;let u;Oe.push(a);try{u=e()}finally{Oe.pop()}return a.forEach(c=>{c.sub(s,{signal:!0})}),n=a,u}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...a){return o().sub(...a)},unsub(...a){o().unsub(...a)},unsubAll(...a){o().unsubAll(...a)}})}function ke(e,t){return _s(e,t)}function _(e,t){return ip(e,t)}function b(e,t){const n=ke(e,t);return[n,_(n)]}let bs=!1;const[tn,qm]=np("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return bs}});function ap(e){bs=e,Nl(e)}const It=ke(0),ys=ke(Cn),[co,xn]=b({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),oe=_(()=>xn().tgWebAppVersion);function gs(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||nt();co.set(n),ys.set(typeof t=="function"?t:fs(n.tgWebAppVersion)),tn(!1,"The package was configured. Launch params:",co())}function Tn(){return It.set(It()+1),It().toString()}function me(e,t,n){return ep(e,t,Tn(),{...n||{},postEvent:h})}const $=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=h),kn(e,t,n)),h=(e,t)=>ys()(e,t);function G(e){return _(()=>ae(e,oe()))}function up(e){return t=>t instanceof e}function Y(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,up(n)]}function he(e){return[e]}const[rt,cp]=Y("CSSVarsBoundError","CSS variables are already bound"),[Bn,lp]=Y("NotAvailableError",he),[pp,dp]=Y("InvalidEnvError",he),[ve,fp]=Y("FunctionNotAvailableError",he),[F,mp]=Y("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[vs,hp]=Y("ConcurrentCallError",he),[Es,_p]=Y("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[ws,bp]=Y("AccessDeniedError",he),[Ss,yp]=Y("FullscreenFailedError",he),[$s,gp]=Y("ShareMessageError",he);function nn(){return typeof window>"u"}function C(e,t,n){n||(n={});const{isSupported:r,isMounted:o,isMounting:s,component:i,supports:a}=n||{},u=`${i?`${i}.`:""}${e}()`,c=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function l(w){if(a){const S=a[w];return ae(S[0],S[1],oe())}return!0}function p(){if(!c)return;function w(L){return typeof L=="function"?L():ae(L,oe())?void 0:`it is unsupported in Mini Apps version ${oe()}`}const S=Array.isArray(c)?c:c.any,q=S.map(w).filter(Boolean);return Array.isArray(c)?q[0]:q.length===S.length?q[q.length-1]:void 0}function m(...w){for(const S in a)if(a[S][2](...w)&&!l(S))return`option ${S} is not supported in Mini Apps version ${oe()}`}let f;if(a){f={};for(const w in a)f[w]=_(()=>l(w))}const k=_(()=>!p()),ge=_(()=>oe()!=="0.0"),M=_(()=>!o||o()),ne=_(()=>Xt()&&!nn()&&ge()&&k()&&M());return Object.assign((...w)=>{const S=`Unable to call the ${u} ${i?"method":"function"}:`;if(nn()||!Xt())throw new ve(`${S} it can't be called outside Mini Apps`);if(!ge())throw new ve(`${S} the SDK was not initialized. Use the SDK init() function`);const q=p();if(q)throw new ve(`${S} ${q}`);const L=m(...w);if(L)throw new ve(`${S} ${L}`);if(!M()){const d=s&&s()?"mounting. Wait for the mount completion":`unmounted. Use the ${i}.mount() method`;throw new ve(`${S} the component is ${d}`)}return t(...w)},t,{isAvailable:ne,ifAvailable(...w){return ne()?[!0,t(...w)]:[!1]}},c?{isSupported:k}:{},f?{supports:f}:{})}function ot(e,t){return t||(t={}),(n,r,o,s)=>C(n,r,{...t,isSupported:o||t.isSupported,supports:s,component:e})}function le(e,t,n){return ot(e,{isSupported:n,isMounted:t})}function V(e,t){return ot(e,{isSupported:t})}const st="web_app_setup_back_button",As="back_button_pressed",it="backButton",[lo,Cs]=b(!1),[Je,ks]=b(!1),Ms=G(st),Ps=le(it,Je,st),On=V(it,st),xs=Ps("hide",()=>{qn(!1)}),Ts=On("mount",()=>{Je()||(qn(z()&&U(it)||!1),Je.set(!0))});function qn(e){e!==lo()&&(h(st,{is_visible:e}),W(it,e),lo.set(e))}const Bs=On("onClick",e=>A(As,e)),Os=On("offClick",e=>{T(As,e)}),qs=Ps("show",()=>{qn(!0)});function Is(){Je.set(!1)}const vp=Object.freeze(Object.defineProperty({__proto__:null,hide:xs,isMounted:ks,isSupported:Ms,isVisible:Cs,mount:Ts,offClick:Os,onClick:Bs,show:qs,unmount:Is},Symbol.toStringTag,{value:"Module"}));var Ep=Object.defineProperty,wp=(e,t,n)=>t in e?Ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rn=(e,t,n)=>wp(e,typeof t!="symbol"?t+"":t,n);function Sp(e){return t=>t instanceof e}function js(e,t){t||(t=[]);class n extends Error{constructor(...o){const s=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...s),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Sp(n)]}const[$p,Ap]=js("CancelledError","Promise was canceled"),[Cp,Im]=js("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Ds=Symbol("Resolved");function po(e){return Array.isArray(e)&&e[0]===Ds}function kp(e){return[Ds,e]}function fo(e,t){return e.reject=t.reject,e.abort=t.abort,e}let x=class on extends Promise{constructor(t,n){let r,o;super((s,i)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],l=d=>(...I)=>{const ee=d(...I);return c.forEach(Bt=>Bt()),ee},p=new AbortController,{signal:m}=p;o=d=>{!m.aborted&&p.abort(d)};const f=()=>m.reason,k=d=>{const I=()=>{d(f())};m.addEventListener("abort",I,!0);const ee=()=>{m.removeEventListener("abort",I,!0)};return c.push(ee),ee},ge=l(d=>{s(d),o(kp(d))});r=l(d=>{i(d),o(d)}),u||(u={});const{abortSignal:M,rejectOnAbort:ne=!0}=u;if(M)if(M.aborted){const{reason:d}=M;if(ne)return r(d);o(d)}else{const d=()=>{o(M.reason)};M.addEventListener("abort",d),c.push(()=>{M.removeEventListener("abort",d)})}ne&&k(i);const{timeout:w}=u;if(w){const d=setTimeout(()=>{o(new Cp(w))},w);c.push(()=>{clearTimeout(d)})}const S=()=>m.aborted,q=()=>po(f()),L=()=>{const d=f();return po(d)?d[1]:void 0};try{const d=a&&a(ge,r,{abortReason:f,abortSignal:m,isAborted:S,isResolved:q,onAborted:k,onResolved:I=>k(()=>{q()&&I(L())}),resolved:L,throwIfAborted(){if(S())throw f()}});d instanceof Promise&&d.catch(r)}catch(d){r(d)}}),rn(this,"abort"),rn(this,"reject"),this.abort=o,this.reject=r}static fn(t,n){return new on(async(r,o,s)=>{try{r(await t(s))}catch(i){o(i)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new on((n,r)=>{r(t)})}cancel(){this.abort(new $p)}catch(t){return this.then(void 0,t)}finally(t){return fo(super.finally(t),this)}then(t,n){return fo(super.then(t,n),this)}};function mo(e,t){return e.resolve=t.resolve,e}let Mp=class sn extends x{constructor(t,n){let r,o;typeof t=="function"?(r=t,o=n):o=t;let s;super((i,a,u)=>{s=i,r&&r(i,a,u)},o),rn(this,"resolve"),this.resolve=s}static fn(t,n){return new sn((r,o,s)=>{try{Promise.resolve(t(s)).then(r,o)}catch(i){o(i)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new sn((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return mo(super.finally(t),this)}then(t,n){return mo(super.then(t,n),this)}};function O(e,t,n){n||(n={});const{promise:r,error:o}=n,[s,i]=r?[r,_(r)]:b(),[a,u]=o?[o,_(o)]:b();return[Object.assign((...c)=>{if(s()){const p=new vs(t);return a.set(p),x.reject(p)}en(()=>{s.set(e(...c)),a.set(void 0)});let l;return s().catch(p=>{throw l=p,p}).finally(()=>{en(()=>{s.set(void 0),a.set(l)})})},e),[s,i,_(()=>!!s())],[a,u]]}function He(e,t,n){const[r,...o]=O(t,`The ${e} component is already mounting`),[s,i]=b(!1);return[(...a)=>s()?x.resolve():r(...a).then(u=>{en(()=>{s.set(!0),n(u)})}),...o,[s,i]]}const[In,Ns]=b({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),Vs=_(()=>In().available),ho="web_app_biometry_get_info",Ls=C("requestBiometry",e=>$(ho,"biometry_info_received",e),{isSupported:ho});function jn(e){if(!Ap(e))throw e}function Me(e){const t=e();t&&t.catch(jn).cancel()}const Ne="biometry",at="web_app_biometry_request_auth",Dn="biometry_info_received",Rs=e=>{ut(Nn(e))};function Hs(){throw new Bn("Biometry is not available")}function Nn(e){let t=!1,n=!1,r="",o=!1,s="",i=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,o=e.access_requested,s=e.type,i=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:s,accessGranted:i,accessRequested:o}}const Fs=G(at),[Pp,xp,Tp,Ws]=He(Ne,e=>{const t=z()&&U(Ne);return t?x.resolve(t):Ls({abortSignal:e}).then(Nn)},e=>{A(Dn,Rs),ut(e)}),Us=V(Ne,at),Vn=le(Ne,Ws[0],at),zs=Us("mount",Pp),[,Ln,Gs]=xp,[,Qs]=Tp,[Bp,Js]=Ws,[Op,qp,Ip]=O(e=>x.fn(async t=>{const n=In();n.available||Hs();const r=await $(at,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:o}=r;return typeof o=="string"&&ut({...n,token:o}),r},e),"Biometry authentication is already in progress"),Ks=Vn("authenticate",Op),[,Rn,Ys]=qp,[,Zs]=Ip,Xs=Us("openSettings",()=>{h("web_app_biometry_open_settings")}),[jp,Dp,Np]=O(e=>x.fn(async t=>{const n=await $("web_app_biometry_request_access",Dn,{...e,...t,params:{reason:(e||{}).reason||""}}).then(Nn);return n.available||Hs(),ut(n),n.accessGranted},e),"Biometry access request is already in progress"),ei=Vn("requestAccess",jp),[,Hn,ti]=Dp,[,ni]=Np;function ut(e){In.set(e),W(Ne,e)}function ri(){[Rn,Hn,Ln].forEach(Me),T(Dn,Rs),Bp.set(!1)}const oi=Vn("updateToken",e=>(e||(e={}),$("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status))),Vp=Object.freeze(Object.defineProperty({__proto__:null,authError:Zs,authPromise:Rn,authenticate:Ks,isAuthenticating:Ys,isAvailable:Vs,isMounted:Js,isMounting:Gs,isRequestingAccess:ti,isSupported:Fs,mount:zs,mountError:Qs,mountPromise:Ln,openSettings:Xs,requestAccess:ei,requestAccessError:ni,requestAccessPromise:Hn,state:Ns,unmount:ri,updateToken:oi},Symbol.toStringTag,{value:"Module"}));function ct(e,t){return ot(e,{isMounted:t})}const pe=ot,lt="closingBehavior",[_o,si]=b(!1),[an,Fn]=b(!1),ii=ct(lt,Fn),Lp=pe(lt),ai=ii("disableConfirmation",()=>{Wn(!1)}),ui=ii("enableConfirmation",()=>{Wn(!0)}),ci=Lp("mount",()=>{an()||(Wn(z()&&U(lt)||!1),an.set(!0))});function Wn(e){e!==_o()&&(h("web_app_setup_closing_behavior",{need_confirmation:e}),W(lt,e),_o.set(e))}function li(){an.set(!1)}const Rp=Object.freeze(Object.defineProperty({__proto__:null,disableConfirmation:ai,enableConfirmation:ui,isConfirmationEnabled:si,isMounted:Fn,mount:ci,unmount:li},Symbol.toStringTag,{value:"Module"}));var te;function pi(e){return{lang:(e==null?void 0:e.lang)??(te==null?void 0:te.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(te==null?void 0:te.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(te==null?void 0:te.abortPipeEarly)}}var jt;function Hp(e){return jt==null?void 0:jt.get(e)}var Dt;function Fp(e){return Dt==null?void 0:Dt.get(e)}var Nt;function Wp(e,t){var n;return(n=Nt==null?void 0:Nt.get(e))==null?void 0:n.get(t)}function Up(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function D(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??Up(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??Wp(e.reference,u.lang)??(c?Fp(u.lang):null)??r.message??Hp(u.lang);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function Z(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},pi())}}}function di(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function zp(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var un=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function fi(e,t){return{kind:"validation",type:"check",reference:fi,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&D(this,"input",n,r),n}}}function mi(e){return{kind:"validation",type:"integer",reference:mi,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&D(this,"integer",t,n),t}}}function Un(e){return{kind:"transformation",type:"transform",reference:Un,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function hi(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function _i(e,t){return{kind:"schema",type:"array",reference:_i,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return Z(this)},"~run"(n,r){var s;const o=n.value;if(Array.isArray(o)){n.typed=!0,n.value=[];for(let i=0;i<o.length;i++){const a=o[i],u=this.item["~run"]({value:a},r);if(u.issues){const c={type:"array",origin:"value",input:o,key:i,value:a};for(const l of u.issues)l.path?l.path.unshift(c):l.path=[c],(s=n.issues)==null||s.push(l);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else D(this,"type",n,r);return n}}}function zn(e){return{kind:"schema",type:"date",reference:zn,expects:"Date",async:!1,message:e,get"~standard"(){return Z(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?D(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:D(this,"type",t,n),t}}}function bi(e,t){return{kind:"schema",type:"instance",reference:bi,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Z(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:D(this,"type",n,r),n}}}function cn(e,t){return{kind:"schema",type:"loose_object",reference:cn,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Z(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in o||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in o?o[i]:hi(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:o,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(s=n.issues)==null||s.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(D(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:o,key:i,value:o[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in o)di(o,i)&&!(i in this.entries)&&(n.value[i]=o[i])}else D(this,"type",n,r);return n}}}function Gn(e){return{kind:"schema",type:"number",reference:Gn,expects:"number",async:!1,message:e,get"~standard"(){return Z(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:D(this,"type",t,n),t}}}function yi(e,t){return{kind:"schema",type:"optional",reference:yi,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return Z(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=hi(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function gi(e,t,n){return{kind:"schema",type:"record",reference:gi,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Z(this)},"~run"(r,o){var i,a;const s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(const u in s)if(di(s,u)){const c=s[u],l=this.key["~run"]({value:u},o);if(l.issues){const m={type:"object",origin:"key",input:s,key:u,value:c};for(const f of l.issues)f.path=[m],(i=r.issues)==null||i.push(f);if(r.issues||(r.issues=l.issues),o.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:c},o);if(p.issues){const m={type:"object",origin:"value",input:s,key:u,value:c};for(const f of p.issues)f.path?f.path.unshift(m):f.path=[m],(a=r.issues)==null||a.push(f);if(r.issues||(r.issues=p.issues),o.abortEarly){r.typed=!1;break}}(!l.typed||!p.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=p.value)}}else D(this,"type",r,o);return r}}}function H(e){return{kind:"schema",type:"string",reference:H,expects:"string",async:!1,message:e,get"~standard"(){return Z(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:D(this,"type",t,n),t}}}function bo(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function vi(e,t){return{kind:"schema",type:"union",reference:vi,expects:zp(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return Z(this)},"~run"(n,r){let o,s,i;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{o=u;break}else i?i.push(u):i=[u]}if(o)return o;if(s){if(s.length===1)return s[0];D(this,"type",n,r,{issues:bo(s)}),n.typed=!0}else{if((i==null?void 0:i.length)===1)return i[0];D(this,"type",n,r,{issues:bo(i)})}return n}}}function pt(e,t,n){const r=e["~run"]({value:t},pi(n));if(r.issues)throw new un(r.issues);return r.value}function qe(...e){return{...e[0],pipe:e,get"~standard"(){return Z(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const Ei="web_app_invoke_custom_method",Fe=V("cloudStorage",Ei),wi=G(Ei),Qn=Fe("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?me("deleteStorageValues",{keys:n},t).then():x.resolve()});function Gp(e,t){const n=Array.isArray(e)?e:[e];return n.length?me("getStorageValues",{keys:n},t).then(r=>pt(gi(qe(H(),fi(o=>n.includes(o))),H()),r)):x.resolve(typeof e=="string"?"":{})}const Si=Fe("getItem",Gp),Jn=Fe("getKeys",e=>me("getStorageKeys",{},e).then(t=>pt(_i(H()),t))),$i=Fe("setItem",(e,t,n)=>me("saveStorageValue",{key:e,value:t},n).then()),Qp=Fe("clear",e=>Jn(e).then(Qn)),Jp=Object.freeze(Object.defineProperty({__proto__:null,clear:Qp,deleteItem:Qn,getItem:Si,getKeys:Jn,isSupported:wi,setItem:$i},Symbol.toStringTag,{value:"Module"})),We="web_app_trigger_haptic_feedback",Kn=V("hapticFeedback",We),Ai=G(We),Ci=Kn("impactOccurred",e=>{h(We,{type:"impact",impact_style:e})}),ki=Kn("notificationOccurred",e=>{h(We,{type:"notification",notification_type:e})}),Mi=Kn("selectionChanged",()=>{h(We,{type:"selection_change"})}),Kp=Object.freeze(Object.defineProperty({__proto__:null,impactOccurred:Ci,isSupported:Ai,notificationOccurred:ki,selectionChanged:Mi},Symbol.toStringTag,{value:"Module"})),[Pi,xi]=b(void 0);function X(e){return _(()=>{const t=Pi();return t?t[e]:void 0})}const Yn=X("auth_date"),Zn=X("can_send_after"),Ti=_(()=>{const e=Yn(),t=Zn();return t&&e?new Date(e.getTime()+t*1e3):void 0}),Bi=X("chat"),Oi=X("chat_type"),qi=X("chat_instance"),Ii=X("hash"),ji=X("query_id"),[Yp,Di]=b(),Ni=X("receiver");function Vi(){const e=nt();Pi.set(e.tgWebAppData),Yp.set(ps())}const Li=X("start_param"),Ri=X("user"),Zp=Object.freeze(Object.defineProperty({__proto__:null,authDate:Yn,canSendAfter:Zn,canSendAfterDate:Ti,chat:Bi,chatInstance:qi,chatType:Oi,hash:Ii,queryId:ji,raw:Di,receiver:Ni,restore:Vi,startParam:Li,state:xi,user:Ri},Symbol.toStringTag,{value:"Module"})),Xn="web_app_open_invoice",Xp=V("invoice",Xn),Hi=G(Xn);function ed(e,t,n){let r;if(t==="url"){const{hostname:o,pathname:s}=new URL(e,window.location.href);if(o!=="t.me")throw new F(`Link has unexpected hostname: ${o}`);const i=s.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new F('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=e,n=t;return $(Xn,"invoice_closed",{...n,params:{slug:r},capture:o=>r===o.slug}).then(o=>o.status)}const[td,nd,rd]=O(ed,"Invoice is already opened"),Fi=Xp("open",td),[,Wi,Ui]=nd,[,zi]=rd,od=Object.freeze(Object.defineProperty({__proto__:null,isOpened:Ui,isSupported:Hi,open:Fi,openError:zi,openPromise:Wi},Symbol.toStringTag,{value:"Module"})),Ie="locationManager",er="web_app_check_location",yo="web_app_open_location_settings",Ke=ke({available:!1,accessGranted:!1,accessRequested:!1});function tr(e){return _(()=>Ke()[e])}const Gi=G(er),Qi=tr("available"),Ji=tr("accessGranted"),Ki=tr("accessRequested");function sd(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}const[id,ad,ud,Yi]=He(Ie,e=>{const t=z()&&U(Ie);return t?x.resolve(t):$("web_app_check_location","location_checked",e).then(sd)},e=>{Ke.set(e),W(Ie,e)}),Zi=V(Ie,er),cd=le(Ie,Yi[0],er),Xi=Zi("mount",id),[,ea,ta]=ad,[,na]=ud,[ld,ra]=Yi,[pd,dd,fd]=O(e=>$("web_app_request_location","location_requested",e).then(t=>{if(!t.available)throw Ke.set({...Ke(),available:!1}),new Bn("Location data tracking is not available");const{available:n,...r}=t;return r}),"Location request is currently in progress"),oa=cd("requestLocation",pd),[,nr,sa]=dd,[,ia]=fd,aa=Zi("openSettings",()=>{h(yo)},yo);function ua(){Me(nr),ld.set(!1)}const md=Object.freeze(Object.defineProperty({__proto__:null,isAccessGranted:Ji,isAccessRequested:Ki,isAvailable:Qi,isMounted:ra,isMounting:ta,isRequestingLocation:sa,isSupported:Gi,mount:Xi,mountError:na,mountPromise:ea,openSettings:aa,requestLocation:oa,requestLocationError:ia,requestLocationPromise:nr,unmount:ua},Symbol.toStringTag,{value:"Module"}));function rr(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function ca(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function hd(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function _d(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function N(e,t,n,r,o){const s=o&&"input"in o?o.input:n.value,i=(o==null?void 0:o.expected)??e.expects??null,a=(o==null?void 0:o.received)??_d(s),u={kind:e.kind,type:e.type,input:s,expected:i,received:a,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",l=(o==null?void 0:o.message)??e.message??hd(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);l&&(u.message=typeof l=="function"?l(u):l),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function Q(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},ca())}}}function la(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function bd(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var yd=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function pa(e,t){return{kind:"validation",type:"check",reference:pa,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&N(this,"input",n,r),n}}}function da(e){return{kind:"validation",type:"integer",reference:da,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&N(this,"integer",t,n),t}}}function ue(e){return{kind:"transformation",type:"transform",reference:ue,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function fa(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Be(e){return{kind:"schema",type:"boolean",reference:Be,expects:"boolean",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:N(this,"type",t,n),t}}}function ma(e){return{kind:"schema",type:"date",reference:ma,expects:"Date",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?N(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:N(this,"type",t,n),t}}}function ha(e,t){return{kind:"schema",type:"instance",reference:ha,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Q(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:N(this,"type",n,r),n}}}function or(e){return{kind:"schema",type:"lazy",reference:or,expects:"unknown",async:!1,getter:e,get"~standard"(){return Q(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ue(e,t){return{kind:"schema",type:"loose_object",reference:Ue,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Q(this)},"~run"(n,r){var o;const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=i in s?s[i]:fa(a),c=a["~run"]({value:u},r);if(c.issues){const l={type:"object",origin:"value",input:s,key:i,value:u};for(const p of c.issues)p.path?p.path.unshift(l):p.path=[l],(o=n.issues)==null||o.push(p);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[i]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(N(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)la(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else N(this,"type",n,r);return n}}}function sr(e){return{kind:"schema",type:"number",reference:sr,expects:"number",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:N(this,"type",t,n),t}}}function E(e,t){return{kind:"schema",type:"optional",reference:E,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return Q(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=fa(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function _a(e,t,n){return{kind:"schema",type:"record",reference:_a,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Q(this)},"~run"(r,o){var s,i;const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const u in a)if(la(a,u)){const c=a[u],l=this.key["~run"]({value:u},o);if(l.issues){const m={type:"object",origin:"key",input:a,key:u,value:c};for(const f of l.issues)f.path=[m],(s=r.issues)==null||s.push(f);if(r.issues||(r.issues=l.issues),o.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:c},o);if(p.issues){const m={type:"object",origin:"value",input:a,key:u,value:c};for(const f of p.issues)f.path?f.path.unshift(m):f.path=[m],(i=r.issues)==null||i.push(f);if(r.issues||(r.issues=p.issues),o.abortEarly){r.typed=!1;break}}(!l.typed||!p.typed)&&(r.typed=!1),l.typed&&(r.value[l.value]=p.value)}}else N(this,"type",r,o);return r}}}function g(e){return{kind:"schema",type:"string",reference:g,expects:"string",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:N(this,"type",t,n),t}}}function go(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function ba(e,t){return{kind:"schema",type:"union",reference:ba,expects:bd(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return Q(this)},"~run"(n,r){let o,s,i;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)s?s.push(u):s=[u];else{o=u;break}else i?i.push(u):i=[u]}if(o)return o;if(s){if(s.length===1)return s[0];N(this,"type",n,r,{issues:go(s)}),n.typed=!0}else{if((i==null?void 0:i.length)===1)return i[0];N(this,"type",n,r,{issues:go(i)})}return n}}}function ya(e,t,n){const r=e["~run"]({value:t},ca(n));if(r.issues)throw new yd(r.issues);return r.value}function ce(...e){return{...e[0],pipe:e,get"~standard"(){return Q(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function gd(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function vd(e){return Object.entries(e).reduce((t,[n,r])=>(t[gd(n)]=r,t),{})}function ln(e){const t=vd(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(ln):ln(r))}return t}function ir(e){return ue(t=>e?ln(t):t)}function ga(e){return t=>ce(e,ir(t))}function va(e){return(t,n)=>ya(ce(e,ir(n)),t)}function Ea(){return ue(JSON.parse)}function ar(e){const t=ga(e);return n=>ce(g(),Ea(),t(n))}function ur(e){return ue(t=>{const n={};return new URLSearchParams(t).forEach((r,o)=>{const s=n[o];Array.isArray(s)?s.push(r):s===void 0?n[o]=r:n[o]=[s,r]}),ya(e,n)})}function wa(e){return t=>ce(ba([g(),ha(URLSearchParams)]),ur(e),ir(t))}const vo=E(or(()=>Ad())),Ed=Ue({id:sr(),photo_url:E(g()),type:g(),title:g(),username:E(g())}),wd=Ue({added_to_attachment_menu:E(Be()),allows_write_to_pm:E(Be()),first_name:g(),id:sr(),is_bot:E(Be()),is_premium:E(Be()),last_name:E(g()),language_code:E(g()),photo_url:E(g()),username:E(g())}),Sd=Ue({auth_date:ce(g(),ue(e=>new Date(Number(e)*1e3)),ma()),can_send_after:E(ce(g(),ue(Number),da())),chat:E(or(()=>$d())),chat_type:E(g()),chat_instance:E(g()),hash:g(),query_id:E(g()),receiver:vo,start_param:E(g()),signature:g(),user:vo}),$d=ar(Ed),Ad=ar(wd),Sa=wa(Sd);function fe(e){return/^#[\da-f]{6}$/i.test(e)}function $a(e){return/^#[\da-f]{3}$/i.test(e)}function Aa(e){const t=e.replace(/\s/g,"").toLowerCase();if(fe(t))return t;if($a(t)){let r="#";for(let o=0;o<3;o+=1)r+=t[1+o].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,o)=>r+parseInt(o,10).toString(16).padStart(2,"0"),"#")}const Cd=ga(_a(g(),ce(g(),pa(fe),ue(e=>e)))),Vt=E(ce(g(),ue(e=>e==="1"))),Eo=ar(Cd()),kd=Ue({tgWebAppBotInline:Vt,tgWebAppData:E(Sa()),tgWebAppDefaultColors:E(Eo()),tgWebAppFullscreen:Vt,tgWebAppPlatform:g(),tgWebAppShowSettings:Vt,tgWebAppStartParam:E(g()),tgWebAppThemeParams:Eo(),tgWebAppVersion:g()}),Md=wa(kd),Pd=va(Sa()),xd=va(Md());function cr(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,o])=>(Array.isArray(o)?n.push(...o.map(s=>[r,String(s)])):o!=null&&n.push([r,o instanceof Date?(o.getTime()/1e3|0).toString():typeof o=="string"||typeof o=="number"?String(o):typeof o=="boolean"?o?"1":"0":t(r,o)]),n),[])).toString()}function Ca(e){return cr(e)}function Td(e){return cr(e,(t,n)=>t==="tgWebAppData"?Ca(n):JSON.stringify(n))}function lr(e){const t=Aa(e);return Math.sqrt([.299,.587,.114].reduce((n,r,o)=>{const s=parseInt(t.slice(1+o*2,1+(o+1)*2),16);return n+s*s*r},0))<120}const[Lt,ka]=b(!1),[we,Ma]=b({});function B(e){return _(()=>we()[e])}const Pa=B("accent_text_color"),ze=B("bg_color"),dt=B("button_color"),pr=B("button_text_color"),dr=B("bottom_bar_bg_color"),xa=B("destructive_text_color"),Ta=B("header_bg_color"),Ba=B("hint_color"),Oa=_(()=>{const e=ze();return!e||lr(e)}),qa=B("link_color"),Ve=B("secondary_bg_color"),Ia=B("section_bg_color"),ja=B("section_header_text_color"),Da=B("section_separator_color"),Na=B("subtitle_text_color"),Va=B("text_color");function _e(e){return _(()=>ft()[e])}const je=ke({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),ft=_(()=>{const e=je();return{...e,backgroundColor:e.backgroundColor||dt()||"#2481cc",textColor:e.textColor||pr()||"#ffffff"}}),[pn,fr]=b(!1),La=_e("backgroundColor"),Ra=_e("hasShineEffect"),Ha=_e("isEnabled"),Fa=_e("isLoaderVisible"),Wa=_e("isVisible"),Ua=_e("text"),za=_e("textColor"),Bd="web_app_setup_main_button",Ga="main_button_pressed",mt="mainButton",mr=pe(mt),Od=ct(mt,fr),Qa=mr("mount",()=>{if(!pn()){const e=z()&&U(mt);e&&je.set(e),pn.set(!0)}}),Ja=mr("onClick",e=>A(Ga,e)),Ka=mr("offClick",e=>{T(Ga,e)}),Ya=Od("setParams",e=>{je.set({...je(),...rr(e)}),W(mt,je());const t=ft();t.text&&h(Bd,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function Za(){pn.set(!1)}const qd=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:La,hasShineEffect:Ra,isEnabled:Ha,isLoaderVisible:Fa,isMounted:fr,isVisible:Wa,mount:Qa,offClick:Ka,onClick:Ja,setParams:Ya,state:ft,text:Ua,textColor:za,unmount:Za},Symbol.toStringTag,{value:"Module"}));function hr(e,t){document.documentElement.style.setProperty(e,t)}function _r(e){document.documentElement.style.removeProperty(e)}const Le="themeParams",Xa="theme_changed",Id=pe(Le),eu=({theme_params:e})=>{we.set(e),W(Le,e)},[jd,Dd,Nd,tu]=He(Le,e=>{const t=z()&&U(Le);return t?x.resolve(t):$("web_app_request_theme","theme_changed",e).then(n=>n.theme_params)},e=>{A(Xa,eu),we.set(e)}),Vd=ct(Le,tu[0]),nu=Vd("bindCssVars",e=>{if(Lt())throw new rt;e||(e=r=>`--tg-theme-${tp(r)}`);function t(r){Object.entries(we()).forEach(([o,s])=>{s&&r(o,s)})}function n(){t((r,o)=>{hr(e(r),o)})}return n(),we.sub(n),Lt.set(!0),()=>{t(_r),we.unsub(n),Lt.set(!1)}}),br=Id("mount",jd),[,yr,ru]=Dd,[,ou]=Nd,[Ld,su]=tu;function iu(){Me(yr),T(Xa,eu),Ld.set(!1)}function au(e){return _(()=>{const t=e();return fe(t)?t:t==="bg_color"?ze():Ve()})}const[Ye,uu]=b("bg_color"),ht=au(Ye),[Ze,cu]=b("bottom_bar_bg_color"),_t=_(()=>{const e=Ze();return fe(e)?e:e==="bottom_bar_bg_color"?dr()||Ve():e==="secondary_bg_color"?Ve():ze()}),[Xe,lu]=b("bg_color"),gr=au(Xe),[Rt,pu]=b(!1),du=_(()=>{const e=ht();return e?lr(e):!1}),[vr,fu]=b(!0),Er=_(()=>({backgroundColor:Ye(),bottomBarColor:Ze(),headerColor:Xe(),isActive:vr()})),dn="web_app_set_background_color",fn="web_app_set_bottom_bar_color",Qe="web_app_set_header_color",mu="visibility_changed",$e="miniApp",wr={any:[dn,fn,Qe]},hu=_(()=>wr.any.some(e=>ae(e,oe()))),_u=e=>{vr.set(e.is_visible),yt()},[Rd,Hd,Fd,bu]=He($e,e=>br(e).then(()=>z()&&U($e)||void 0),e=>{$r.ifAvailable(e?e.backgroundColor:"bg_color"),Ar.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Cr.ifAvailable(e?e.headerColor:"bg_color"),vr.set(e?e.isActive:!0),A(mu,_u)}),yu=pe($e),Wd=V($e,wr),bt=le($e,bu[0],wr),gu=bt("bindCssVars",e=>{if(Rt())throw new rt;const[t,n]=Pn();function r(o,s){function i(){hr(o,s()||null)}i(),t(s.sub(i),_r.bind(null,o))}return e||(e=o=>`--tg-${ms(o)}`),r(e("bgColor"),ht),r(e("bottomBarColor"),_t),r(e("headerColor"),gr),t(()=>{Rt.set(!1)}),Rt.set(!0),n}),vu=yu("close",e=>{h("web_app_close",{return_back:e})}),Eu=Wd("mount",Rd),[,Sr,wu]=Hd,[,Su]=Fd,[Ud,$u]=bu,Au=yu("ready",()=>{h("web_app_ready")});function yt(){W($e,Er())}const $r=bt("setBackgroundColor",e=>{e!==Ye()&&(h(dn,{color:e}),Ye.set(e),yt())},dn),Ar=bt("setBottomBarColor",e=>{e!==Ze()&&(h(fn,{color:e}),Ze.set(e),yt())},fn),Cr=bt("setHeaderColor",e=>{e!==Xe()&&(h(Qe,fe(e)?{color:e}:{color_key:e}),Xe.set(e),yt())},Qe,{rgb:[Qe,"color",fe]});function Cu(){Me(Sr),T(mu,_u),Ud.set(!1)}const zd=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:uu,backgroundColorRGB:ht,bindCssVars:gu,bottomBarColor:cu,bottomBarColorRGB:_t,close:vu,headerColor:lu,headerColorRGB:gr,isActive:fu,isCssVarsBound:pu,isDark:du,isMounted:$u,isMounting:wu,isSupported:hu,mount:Eu,mountError:Su,mountPromise:Sr,ready:Au,setBackgroundColor:$r,setBottomBarColor:Ar,setHeaderColor:Cr,state:Er,unmount:Cu},Symbol.toStringTag,{value:"Module"}));function Gd(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new F(`Invalid title: ${n}`);if(!t||t.length>256)throw new F(`Invalid message: ${t}`);if(r.length>3)throw new F(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((o,s)=>{const i=o.id||"";if(i.length>64)throw new F(`Button with index ${s} has invalid id: ${i}`);if(!o.type||o.type==="default"||o.type==="destructive"){const a=o.text.trim();if(!a||a.length>64)throw new F(`Button with index ${s} has invalid text: ${a}`);return{type:o.type,text:a,id:i}}return{type:o.type,id:i}}):[{type:"close",id:""}]}}const kr="web_app_open_popup",Qd=V("popup",kr),ku=G(kr),[Jd,Kd,Yd]=O(e=>$(kr,"popup_closed",{...e,params:Gd(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened"),Mu=Qd("open",Jd),[,Pu,xu]=Kd,[,Tu]=Yd,Zd=Object.freeze(Object.defineProperty({__proto__:null,isOpened:xu,isSupported:ku,open:Mu,openError:Tu,openPromise:Pu},Symbol.toStringTag,{value:"Module"})),Bu="web_app_close_scan_qr_popup",Mr="web_app_open_scan_qr_popup",Xd="scan_qr_popup_closed",ef="qr_text_received",Ou=V("qrScanner",Mr),qu=Ou("close",()=>{h(Bu),Me(Pr)}),Iu=G(Mr);function tf(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,o]=Pn(A(Xd,()=>{s.resolve()}),A(ef,i=>{t?t(i.data):(!r||r(i.data))&&(s.resolve(i.data),h(Bu))})),s=new Mp(e);return(e.postEvent||h)(Mr,{text:n}),x.resolve(s).catch(jn).finally(o)}const[nf,rf,of]=O(tf,"The QR Scanner is already opened"),ju=Ou("open",nf),[,Pr,Du]=rf,[,Nu]=of,sf=Object.freeze(Object.defineProperty({__proto__:null,close:qu,isOpened:Du,isSupported:Iu,open:ju,openError:Nu,openPromise:Pr},Symbol.toStringTag,{value:"Module"}));function de(e){return _(()=>gt()[e])}const De=ke({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),gt=_(()=>{const e=De();return{...e,backgroundColor:e.backgroundColor||_t()||"#000000",textColor:e.textColor||dt()||"#2481cc"}}),[mn,xr]=b(!1),Vu=de("backgroundColor"),Lu=de("hasShineEffect"),Ru=de("isEnabled"),Hu=de("isLoaderVisible"),Fu=de("isVisible"),Wu=de("position"),Uu=de("text"),zu=de("textColor"),vt="web_app_setup_secondary_button",Gu="secondary_button_pressed",Et="secondaryButton",Tr=V(Et,vt),af=le(Et,xr,vt),Qu=G(vt),Ju=Tr("mount",()=>{if(!mn()){const e=z()&&U(Et);e&&De.set(e),mn.set(!0)}}),Ku=Tr("onClick",e=>A(Gu,e)),Yu=Tr("offClick",e=>{T(Gu,e)}),Zu=af("setParams",e=>{De.set({...De(),...rr(e)}),W(Et,De());const t=gt();t.text&&h(vt,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});function Xu(){mn.set(!1)}const uf=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:Vu,hasShineEffect:Lu,isEnabled:Ru,isLoaderVisible:Hu,isMounted:xr,isSupported:Qu,isVisible:Fu,mount:Ju,offClick:Yu,onClick:Ku,position:Wu,setParams:Zu,state:gt,text:Uu,textColor:zu,unmount:Xu},Symbol.toStringTag,{value:"Module"})),wt="web_app_setup_settings_button",ec="settings_button_pressed",St="settingsButton",[wo,tc]=b(!1),[et,nc]=b(!1),rc=G(wt),Br=V(St,wt),oc=le(St,et,wt),sc=oc("hide",()=>{Or(!1)}),ic=Br("mount",()=>{et()||(Or(z()&&U(St)||!1),et.set(!0))});function Or(e){e!==wo()&&(h(wt,{is_visible:e}),W(St,e),wo.set(e))}const ac=Br("onClick",e=>A(ec,e)),uc=Br("offClick",e=>{T(ec,e)}),cc=oc("show",()=>{Or(!0)});function lc(){et.set(!1)}const cf=Object.freeze(Object.defineProperty({__proto__:null,hide:sc,isMounted:nc,isSupported:rc,isVisible:tc,mount:ic,offClick:uc,onClick:ac,show:cc,unmount:lc},Symbol.toStringTag,{value:"Module"})),$t="web_app_setup_swipe_behavior",At="swipeBehavior",[Re,pc]=b(!1),dc=G($t),[hn,fc]=b(!0),lf=V(At,$t),mc=le(At,Re,$t),hc=mc("disableVertical",()=>{qr(!1)}),_c=mc("enableVertical",()=>{qr(!0)}),bc=lf("mount",()=>{Re()||(qr(z()&&U(At)||!1,!0),Re.set(!0))});function qr(e,t){(e!==hn()||t)&&(h($t,{allow_vertical_swipe:e}),W(At,e),hn.set(e))}function yc(){Re.set(!1)}const pf=Object.freeze(Object.defineProperty({__proto__:null,_isMounted:Re,_isVerticalEnabled:hn,disableVertical:hc,enableVertical:_c,isMounted:pc,isSupported:dc,isVerticalEnabled:fc,mount:bc,unmount:yc},Symbol.toStringTag,{value:"Module"})),df=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:Pa,backgroundColor:ze,bindCssVars:nu,bottomBarBgColor:dr,buttonColor:dt,buttonTextColor:pr,destructiveTextColor:xa,headerBackgroundColor:Ta,hintColor:Ba,isCssVarsBound:ka,isDark:Oa,isMounted:su,isMounting:ru,linkColor:qa,mount:br,mountError:ou,mountPromise:yr,secondaryBackgroundColor:Ve,sectionBackgroundColor:Ia,sectionHeaderTextColor:ja,sectionSeparatorColor:Da,state:Ma,subtitleTextColor:Na,textColor:Va,unmount:iu},Symbol.toStringTag,{value:"Module"})),be="viewport",Ir="fullscreen_changed",jr="safe_area_changed",Dr="content_safe_area_changed",Nr="viewport_changed",gc=pe(be),So={left:0,top:0,bottom:0,right:0};function Ht(e){return Math.max(e,0)}const[Ft,Vr]=b({contentSafeAreaInsets:So,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:So,stableHeight:0,width:0});function ye(e){return _(()=>Vr()[e])}const Ct=ye("height"),kt=ye("stableHeight"),Lr=ye("width"),vc=ye("isExpanded"),Ec=_(()=>Ct()===kt());function Pe(e){const{height:t,stableHeight:n,width:r}=e;Ft.set({...Ft(),...rr({...e,height:t?Ht(t):void 0,width:r?Ht(r):void 0,stableHeight:n?Ht(n):void 0})}),W(be,Ft())}function ff(){return U(be)}function Mt(e){return _(()=>Pt()[e])}const Pt=ye("contentSafeAreaInsets"),Rr=Mt("bottom"),Hr=Mt("left"),Fr=Mt("right"),Wr=Mt("top");function xt(e){return _(()=>Tt()[e])}const Tt=ye("safeAreaInsets"),Ur=xt("bottom"),zr=xt("left"),Gr=xt("right"),Qr=xt("top"),wc="web_app_request_safe_area",Sc=V(be,wc),_n=Sc("requestContentSafeAreaInsets",e=>$("web_app_request_content_safe_area",Dr,e));function $c(e){return $("web_app_request_viewport",Nr,e)}const bn=Sc("requestSafeAreaInsets",e=>$(wc,jr,e)),Ac=e=>{const{height:t}=e;Pe({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Cc=e=>{Pe({isFullscreen:e.is_fullscreen})},kc=e=>{Pe({safeAreaInsets:e})},Mc=e=>{Pe({contentSafeAreaInsets:e})},[mf,hf,_f,bf]=He(be,e=>{const t=z()&&ff();return t?x.resolve(t):x.fn(async n=>{const r=await x.all([bn.isAvailable()?bn(n):Tt(),_n.isAvailable()?_n(n):Pt()]),o=xn(),s={contentSafeAreaInsets:r[1],isFullscreen:!!o.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.tgWebAppPlatform)){const i=window;return{...s,height:i.innerHeight,isExpanded:!0,stableHeight:i.innerHeight,width:i.innerWidth}}return $c(n).then(i=>({...s,height:i.height,isExpanded:i.is_expanded,stableHeight:i.is_state_stable?i.height:0,width:i.width}))},e)},e=>{A(Nr,Ac),A(Ir,Cc),A(jr,kc),A(Dr,Mc),Pe(e)}),Pc=gc("mount",mf),[,Jr,xc]=hf,[,Tc]=_f,[Kr,Bc]=bf;function Oc(){Me(Jr),T(Nr,Ac),T(Ir,Cc),T(jr,kc),T(Dr,Mc),Kr.set(!1)}const yf=ct(be,Kr),[Wt,qc]=b(!1),Ic=yf("bindCssVars",e=>{if(Wt())throw new rt;e||(e=n=>`--tg-viewport-${ms(n)}`);const t=[["height",Ct],["stableHeight",kt],["width",Lr],["safeAreaInsetTop",Qr],["safeAreaInsetBottom",Ur],["safeAreaInsetLeft",zr],["safeAreaInsetRight",Gr],["contentSafeAreaInsetTop",Wr],["contentSafeAreaInsetBottom",Rr],["contentSafeAreaInsetLeft",Hr],["contentSafeAreaInsetRight",Fr]].reduce((n,[r,o])=>{const s=e(r);if(s){const i=()=>{hr(s,`${o()}px`)};n.push([i,o.sub(i),s])}return n},[]);return t.forEach(n=>{n[0]()}),Wt.set(!0),()=>{t.forEach(n=>{n[1](),_r(n[2])}),Wt.set(!1)}}),jc=gc("expand",()=>{h("web_app_expand")}),Dc="web_app_request_fullscreen",gf=le(be,Kr,Dc),Yr=ye("isFullscreen"),[vf,Nc]=b(),[Ef,Vc]=b();function Lc(e,t){return gf(e,O(n=>$(t?Dc:"web_app_exit_fullscreen",[Ir,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new Ss(r.error);const o="is_fullscreen"in r?r.is_fullscreen:!0;o!==Yr()&&Pe({isFullscreen:o})}),"Fullscreen mode change is already being requested",{promise:vf,error:Ef})[0])}const Rc=Lc("requestFullscreen",!0),Hc=Lc("exitFullscreen"),wf=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:Ic,changeFullscreenError:Vc,changeFullscreenPromise:Nc,contentSafeAreaInsetBottom:Rr,contentSafeAreaInsetLeft:Hr,contentSafeAreaInsetRight:Fr,contentSafeAreaInsetTop:Wr,contentSafeAreaInsets:Pt,exitFullscreen:Hc,expand:jc,height:Ct,isCssVarsBound:qc,isExpanded:vc,isFullscreen:Yr,isMounted:Bc,isMounting:xc,isStable:Ec,mount:Pc,mountError:Tc,mountPromise:Jr,requestFullscreen:Rc,safeAreaInsetBottom:Ur,safeAreaInsetLeft:zr,safeAreaInsetRight:Gr,safeAreaInsetTop:Qr,safeAreaInsets:Tt,stableHeight:kt,state:Vr,unmount:Oc,width:Lr},Symbol.toStringTag,{value:"Module"})),Fc="web_app_request_emoji_status_access",[Sf,$f,Af]=O(e=>$(Fc,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),Cf=C("requestEmojiStatusAccess",Sf,{isSupported:Fc}),[,kf,Mf]=$f,[,Pf]=Af,Wc="web_app_set_emoji_status",[xf,Tf,Bf]=O((e,t)=>$(Wc,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new Es(n.error)}),"Emoji status set request is currently in progress"),Of=C("setEmojiStatus",xf,{isSupported:Wc}),[,qf,If]=Tf,[,jf]=Bf,Df={isSupported:"web_app_add_to_home_screen"},Uc="home_screen_failed",Nf=C("onAddToHomeScreenFailed",(e,t)=>A(Uc,e,t),{isSupported:"web_app_add_to_home_screen"}),Vf=C("offAddToHomeScreenFailed",e=>{T(Uc,e)},Df),zc={isSupported:"web_app_add_to_home_screen"},Gc="home_screen_added",Lf=C("onAddedToHomeScreen",(e,t)=>A(Gc,e,t),zc),Rf=C("offAddedToHomeScreen",e=>{T(Gc,e)},zc),$o="web_app_add_to_home_screen",Hf=C("addToHomeScreen",()=>{h($o)},{isSupported:$o}),Qc="web_app_check_home_screen",[Ff,Wf,Uf]=O(e=>$(Qc,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),zf=C("checkHomeScreenStatus",Ff,{isSupported:Qc}),[,Gf,Qf]=Wf,[,Jf]=Uf,Kf=pe(),Yf=Kf("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new F(`"${e.toString()}" is invalid URL`,n)}t||(t={}),h("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),Ao="web_app_open_tg_link",Zf=pe(),Jc=Zf("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new F(`"${t}" is invalid URL`);if(!ae(Ao,oe())){window.location.href=t;return}e=new URL(e),h(Ao,{path_full:e.pathname+e.search})}),Xf=pe(),em=Xf("shareURL",(e,t)=>{Jc("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function tm(e,t){return new x({abortSignal:t,timeout:e}).catch(()=>{})}const Kc="web_app_request_phone",[nm,rm,om]=O(e=>$(Kc,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),Yc=C("requestPhoneAccess",nm,{isSupported:Kc}),[,sm,im]=rm,[,am]=om;async function Co(e){const t=await me("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return pt(qe(vi([H(),bi(URLSearchParams)]),ur(cn({contact:qe(H(),Ea(),cn({user_id:Gn(),phone_number:H(),first_name:H(),last_name:yi(H())})),auth_date:qe(H(),Un(n=>new Date(Number(n)*1e3)),zn()),hash:H()}))),t)}const[um,cm,lm]=O(e=>new x(async(t,n,r)=>{try{return t(await Co(r))}catch(i){if(i instanceof un)throw i}if(await Yc(r)!=="sent")throw new ws("User denied access");let s=50;for(;!r.isAborted();){try{return t(await Co(r))}catch(i){if(i instanceof un)throw i}await tm(s),s+=50}},e),"Contact is already being requested"),pm=C("requestContact",um,{isSupported:"web_app_request_phone"}),[,dm,fm]=cm,[,mm]=lm,Zc="web_app_request_write_access",[hm,_m,bm]=O(e=>$(Zc,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),ym=C("requestWriteAccess",hm,{isSupported:Zc}),[,gm,vm]=_m,[,Em]=bm,wm=C("getCurrentTime",e=>me("getCurrentTime",{},e).then(t=>pt(qe(Gn(),mi(),Un(n=>new Date(n*1e3)),zn()),t)),{isSupported:"web_app_invoke_custom_method"}),ko="web_app_read_text_from_clipboard",Sm=C("readTextFromClipboard",e=>{const t=Tn();return $(ko,"clipboard_text_received",{...e,params:{req_id:t},capture:ds(t)}).then(({data:n=null})=>n)},{isSupported:ko}),$m=C("sendData",e=>{const{size:t}=new Blob([e]);if(!t||t>4096)throw new F(t?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data");h("web_app_data_send",{data:e})},{isSupported(){return xn().tgWebAppBotInline?void 0:"The application must be launched in the inline mode"}}),Mo="web_app_send_prepared_message",Am=C("shareMessage",(e,t)=>$(Mo,["prepared_message_failed","prepared_message_sent"],{...t,params:{id:e}}).then(n=>{if(n&&"error"in n)throw new $s(n.error)}),{isSupported:Mo}),Po="web_app_share_to_story",Cm=C("shareStory",(e,t)=>{t||(t={}),h(Po,{text:t.text,media_url:e,widget_link:t.widgetLink})},{isSupported:Po}),km="web_app_switch_inline_query",Mm=C("switchInlineQuery",(e,t)=>{h(km,{query:e,chat_types:t||[]})});function Pm(e){try{return[!0,e()]}catch(t){return[!1,t]}}function xm(e){gs(e);const[t,n]=Pn(A("reload_iframe",()=>{tn(!1,"Received a request to reload the page"),h("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}=e||{};if(r){const o=document.createElement("style");o.id="telegram-custom-styles",document.head.appendChild(o),t(A("set_custom_style",s=>{o.innerHTML=s}),()=>{document.head.removeChild(o)})}return h("iframe_ready",{reload_supported:!0}),tn(!1,"The package was initialized"),n}exports.AccessDeniedError=ws;exports.CSSVarsBoundError=rt;exports.ConcurrentCallError=vs;exports.FullscreenFailedError=Ss;exports.FunctionUnavailableError=ve;exports.InvalidArgumentsError=F;exports.InvalidEnvError=pp;exports.InvalidLaunchParamsError=as;exports.InvokeCustomMethodError=cs;exports.LaunchParamsRetrieveError=is;exports.MethodParameterUnsupportedError=ss;exports.MethodUnsupportedError=os;exports.NotAvailableError=Bn;exports.SetEmojiStatusError=Es;exports.ShareMessageError=$s;exports.UnknownEnvError=us;exports.addToHomeScreen=Hf;exports.authenticateBiometry=Ks;exports.backButton=vp;exports.bindMiniAppCssVars=gu;exports.bindThemeParamsCssVars=nu;exports.bindViewportCssVars=Ic;exports.biometry=Vp;exports.biometryAuthError=Zs;exports.biometryAuthPromise=Rn;exports.biometryMountError=Qs;exports.biometryState=Ns;exports.changeFullscreenError=Vc;exports.changeFullscreenPromise=Nc;exports.checkHomeScreenStatus=zf;exports.checkHomeScreenStatusError=Jf;exports.checkHomeScreenStatusPromise=Gf;exports.closeMiniApp=vu;exports.closeQrScanner=qu;exports.closingBehavior=Rp;exports.cloudStorage=Jp;exports.configure=gs;exports.createPostEvent=fs;exports.createRequestId=Tn;exports.deleteCloudStorageItem=Qn;exports.disableClosingConfirmation=ai;exports.disableVerticalSwipes=hc;exports.emitEvent=Zt;exports.enableClosingConfirmation=ui;exports.enableVerticalSwipes=_c;exports.exitFullscreen=Hc;exports.expandViewport=jc;exports.getCloudStorageItem=Si;exports.getCloudStorageKeys=Jn;exports.getCurrentTime=wm;exports.hapticFeedback=Kp;exports.hapticFeedbackImpactOccurred=Ci;exports.hapticFeedbackNotificationOccurred=ki;exports.hapticFeedbackSelectionChanged=Mi;exports.hideBackButton=xs;exports.hideSettingsButton=sc;exports.ignoreCanceled=jn;exports.init=xm;exports.initData=Zp;exports.initDataAuthDate=Yn;exports.initDataCanSendAfter=Zn;exports.initDataCanSendAfterDate=Ti;exports.initDataChat=Bi;exports.initDataChatInstance=qi;exports.initDataChatType=Oi;exports.initDataHash=Ii;exports.initDataQueryId=ji;exports.initDataRaw=Di;exports.initDataReceiver=Ni;exports.initDataStartParam=Li;exports.initDataState=xi;exports.initDataUser=Ri;exports.invoice=od;exports.invokeCustomMethod=me;exports.isAccessDeniedError=bp;exports.isAuthenticatingBiometry=Ys;exports.isBackButtonMounted=ks;exports.isBackButtonSupported=Ms;exports.isBackButtonVisible=Cs;exports.isBiometryAvailable=Vs;exports.isBiometryMounted=Js;exports.isBiometryMounting=Gs;exports.isBiometrySupported=Fs;exports.isCSSVarsBoundError=cp;exports.isCheckingHomeScreenStatus=Qf;exports.isClosingBehaviorMounted=Fn;exports.isClosingConfirmationEnabled=si;exports.isCloudStorageSupported=wi;exports.isColorDark=lr;exports.isConcurrentCallError=hp;exports.isFullscreen=Yr;exports.isFullscreenFailedError=yp;exports.isFunctionNotAvailableError=fp;exports.isHapticFeedbackSupported=Ai;exports.isInvalidArguments=mp;exports.isInvalidEnvError=dp;exports.isInvalidLaunchParamsError=zl;exports.isInvoiceOpened=Ui;exports.isInvoiceSupported=Hi;exports.isInvokeCustomMethodError=Ql;exports.isLaunchParamsRetrieveError=Ul;exports.isLocationManagerAccessGranted=Ji;exports.isLocationManagerAccessRequested=Ki;exports.isLocationManagerAvailable=Qi;exports.isLocationManagerMounted=ra;exports.isLocationManagerMounting=ta;exports.isLocationManagerSupported=Gi;exports.isMainButtonEnabled=Ha;exports.isMainButtonLoaderVisible=Fa;exports.isMainButtonMounted=fr;exports.isMainButtonVisible=Wa;exports.isMethodMethodParameterUnsupportedError=Fl;exports.isMethodUnsupportedError=Hl;exports.isMiniAppActive=fu;exports.isMiniAppCssVarsBound=pu;exports.isMiniAppDark=du;exports.isMiniAppMounted=$u;exports.isMiniAppMounting=wu;exports.isMiniAppSupported=hu;exports.isNotAvailableError=lp;exports.isPopupOpened=xu;exports.isPopupSupported=ku;exports.isQrScannerOpened=Du;exports.isQrScannerSupported=Iu;exports.isRGB=fe;exports.isRGBShort=$a;exports.isRequestingBiometryAccess=ti;exports.isRequestingContact=fm;exports.isRequestingEmojiStatusAccess=Mf;exports.isRequestingLocation=sa;exports.isRequestingPhoneAccess=im;exports.isRequestingWriteAccess=vm;exports.isSSR=nn;exports.isSecondaryButtonEnabled=Ru;exports.isSecondaryButtonLoaderVisible=Hu;exports.isSecondaryButtonMounted=xr;exports.isSecondaryButtonSupported=Qu;exports.isSecondaryButtonVisible=Fu;exports.isSetEmojiStatusError=_p;exports.isSettingEmojiStatus=If;exports.isSettingsButtonMounted=nc;exports.isSettingsButtonSupported=rc;exports.isSettingsButtonVisible=tc;exports.isShareMessageError=gp;exports.isSwipeBehaviorMounted=pc;exports.isSwipeBehaviorSupported=dc;exports.isTMA=Xt;exports.isThemeParamsCssVarsBound=ka;exports.isThemeParamsDark=Oa;exports.isThemeParamsMounted=su;exports.isThemeParamsMounting=ru;exports.isUnknownEnvError=Gl;exports.isVerticalSwipesEnabled=fc;exports.isViewportCssVarsBound=qc;exports.isViewportExpanded=vc;exports.isViewportMounted=Bc;exports.isViewportMounting=xc;exports.isViewportStable=Ec;exports.locationManager=md;exports.locationManagerMountError=na;exports.locationManagerMountPromise=ea;exports.mainButton=qd;exports.mainButtonBackgroundColor=La;exports.mainButtonHasShineEffect=Ra;exports.mainButtonState=ft;exports.mainButtonText=Ua;exports.mainButtonTextColor=za;exports.miniApp=zd;exports.miniAppBackgroundColor=uu;exports.miniAppBackgroundColorRGB=ht;exports.miniAppBottomBarColor=cu;exports.miniAppBottomBarColorRGB=_t;exports.miniAppHeaderColor=lu;exports.miniAppHeaderColorRGB=gr;exports.miniAppMountError=Su;exports.miniAppMountPromise=Sr;exports.miniAppReady=Au;exports.miniAppState=Er;exports.mockTelegramEnv=Zl;exports.mountBackButton=Ts;exports.mountBiometry=zs;exports.mountBiometryPromise=Ln;exports.mountClosingBehavior=ci;exports.mountLocationManager=Xi;exports.mountMainButton=Qa;exports.mountMiniApp=Eu;exports.mountSecondaryButton=Ju;exports.mountSettingsButton=ic;exports.mountSwipeBehavior=bc;exports.mountThemeParams=br;exports.mountViewport=Pc;exports.off=T;exports.offAddToHomeScreenFailed=Vf;exports.offAddedToHomeScreen=Rf;exports.offBackButtonClick=Os;exports.offMainButtonClick=Ka;exports.offSecondaryButtonClick=Yu;exports.offSettingsButtonClick=uc;exports.on=A;exports.onAddToHomeScreenFailed=Nf;exports.onAddedToHomeScreen=Lf;exports.onBackButtonClick=Bs;exports.onMainButtonClick=Ja;exports.onSecondaryButtonClick=Ku;exports.onSettingsButtonClick=ac;exports.openBiometrySettings=Xs;exports.openInvoice=Fi;exports.openInvoiceError=zi;exports.openInvoicePromise=Wi;exports.openLink=Yf;exports.openLocationManagerSettings=aa;exports.openPopup=Mu;exports.openPopupError=Tu;exports.openPopupPromise=Pu;exports.openQrScanner=ju;exports.openQrScannerError=Nu;exports.openQrScannerPromise=Pr;exports.openTelegramLink=Jc;exports.parseInitDataQuery=Pd;exports.parseLaunchParamsQuery=xd;exports.popup=Zd;exports.postEvent=h;exports.qrScanner=sf;exports.readTextFromClipboard=Sm;exports.request=$;exports.requestBiometry=Ls;exports.requestBiometryAccess=ei;exports.requestBiometryAccessError=ni;exports.requestBiometryAccessPromise=Hn;exports.requestContact=pm;exports.requestContactError=mm;exports.requestContactPromise=dm;exports.requestContentSafeAreaInsets=_n;exports.requestEmojiStatusAccess=Cf;exports.requestEmojiStatusAccessError=Pf;exports.requestEmojiStatusAccessPromise=kf;exports.requestFullscreen=Rc;exports.requestLocation=oa;exports.requestLocationError=ia;exports.requestLocationPromise=nr;exports.requestPhoneAccess=Yc;exports.requestPhoneAccessError=am;exports.requestPhoneAccessPromise=sm;exports.requestSafeAreaInsets=bn;exports.requestViewport=$c;exports.requestWriteAccess=ym;exports.requestWriteAccessError=Em;exports.requestWriteAccessPromise=gm;exports.restoreInitData=Vi;exports.retrieveLaunchParams=nt;exports.retrieveRawInitData=ps;exports.retrieveRawLaunchParams=Mn;exports.safeCall=Pm;exports.secondaryButton=uf;exports.secondaryButtonBackgroundColor=Vu;exports.secondaryButtonHasShineEffect=Lu;exports.secondaryButtonPosition=Wu;exports.secondaryButtonState=gt;exports.secondaryButtonText=Uu;exports.secondaryButtonTextColor=zu;exports.sendData=$m;exports.serializeInitDataQuery=Ca;exports.serializeLaunchParamsQuery=Td;exports.serializeToQuery=cr;exports.setCloudStorageItem=$i;exports.setDebug=ap;exports.setEmojiStatus=Of;exports.setEmojiStatusError=jf;exports.setEmojiStatusPromise=qf;exports.setMainButtonParams=Ya;exports.setMiniAppBackgroundColor=$r;exports.setMiniAppBottomBarColor=Ar;exports.setMiniAppHeaderColor=Cr;exports.setSecondaryButtonParams=Zu;exports.settingsButton=cf;exports.shareMessage=Am;exports.shareStory=Cm;exports.shareURL=em;exports.showBackButton=qs;exports.showSettingsButton=cc;exports.supports=ae;exports.swipeBehavior=pf;exports.switchInlineQuery=Mm;exports.targetOrigin=ls;exports.themeParams=df;exports.themeParamsAccentTextColor=Pa;exports.themeParamsBackgroundColor=ze;exports.themeParamsBottomBarBgColor=dr;exports.themeParamsButtonColor=dt;exports.themeParamsButtonTextColor=pr;exports.themeParamsDestructiveTextColor=xa;exports.themeParamsHeaderBackgroundColor=Ta;exports.themeParamsHintColor=Ba;exports.themeParamsLinkColor=qa;exports.themeParamsMountError=ou;exports.themeParamsMountPromise=yr;exports.themeParamsSecondaryBackgroundColor=Ve;exports.themeParamsSectionBackgroundColor=Ia;exports.themeParamsSectionHeaderTextColor=ja;exports.themeParamsSectionSeparatorColor=Da;exports.themeParamsState=Ma;exports.themeParamsSubtitleTextColor=Na;exports.themeParamsTextColor=Va;exports.toRGB=Aa;exports.transformQueryUsing=ur;exports.unmountBackButton=Is;exports.unmountBiometry=ri;exports.unmountClosingBehavior=li;exports.unmountLocationManager=ua;exports.unmountMainButton=Za;exports.unmountMiniApp=Cu;exports.unmountSecondaryButton=Xu;exports.unmountSettingsButton=lc;exports.unmountSwipeBehavior=yc;exports.unmountThemeParams=iu;exports.unmountViewport=Oc;exports.updateBiometryToken=oi;exports.viewport=wf;exports.viewportContentSafeAreaInsetBottom=Rr;exports.viewportContentSafeAreaInsetLeft=Hr;exports.viewportContentSafeAreaInsetRight=Fr;exports.viewportContentSafeAreaInsetTop=Wr;exports.viewportContentSafeAreaInsets=Pt;exports.viewportHeight=Ct;exports.viewportMountError=Tc;exports.viewportMountPromise=Jr;exports.viewportSafeAreaInsetBottom=Ur;exports.viewportSafeAreaInsetLeft=zr;exports.viewportSafeAreaInsetRight=Gr;exports.viewportSafeAreaInsetTop=Qr;exports.viewportSafeAreaInsets=Tt;exports.viewportStableHeight=kt;exports.viewportState=Vr;exports.viewportWidth=Lr;exports.wrapSafe=C;


},{}],2:[function(require,module,exports){
window.tg = require("@telegram-apps/sdk")

},{"@telegram-apps/sdk":1}]},{},[2]);

};
gdjs.evtsExt__Telegram__onFirstSceneLoaded.asyncCallback17816076 = function (runtimeScene, eventsFunctionContext, asyncObjectsList) {
asyncObjectsList.restoreLocalVariablesContainers(eventsFunctionContext.localVariables);
eventsFunctionContext.localVariables.length = 0;
}
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList0 = function(runtimeScene, eventsFunctionContext, asyncObjectsList) {

{


{
const parentAsyncObjectsList = asyncObjectsList;
{
const asyncObjectsList = gdjs.LongLivedObjectsList.from(parentAsyncObjectsList);
asyncObjectsList.backupLocalVariablesContainers(eventsFunctionContext.localVariables);
runtimeScene.getAsyncTasksManager().addTask(gdjs.evtsExt__Telegram__MountBackButton.func(runtimeScene, eventsFunctionContext), (runtimeScene) => (gdjs.evtsExt__Telegram__onFirstSceneLoaded.asyncCallback17816076(runtimeScene, eventsFunctionContext, asyncObjectsList)));
}
}

}


};gdjs.evtsExt__Telegram__onFirstSceneLoaded.asyncCallback17815044 = function (runtimeScene, eventsFunctionContext, asyncObjectsList) {
asyncObjectsList.restoreLocalVariablesContainers(eventsFunctionContext.localVariables);
{gdjs.evtsExt__Telegram__MountSwipeBehavior.func(runtimeScene, eventsFunctionContext);
}{gdjs.evtsExt__Telegram__DisableVerticalSwipes.func(runtimeScene, eventsFunctionContext);
}
{ //Subevents
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList0(runtimeScene, eventsFunctionContext, asyncObjectsList);} //End of subevents
eventsFunctionContext.localVariables.length = 0;
}
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList1 = function(runtimeScene, eventsFunctionContext, asyncObjectsList) {

{


{
const parentAsyncObjectsList = asyncObjectsList;
{
const asyncObjectsList = gdjs.LongLivedObjectsList.from(parentAsyncObjectsList);
asyncObjectsList.backupLocalVariablesContainers(eventsFunctionContext.localVariables);
runtimeScene.getAsyncTasksManager().addTask(gdjs.evtsExt__Telegram__MountSettingsButton.func(runtimeScene, eventsFunctionContext), (runtimeScene) => (gdjs.evtsExt__Telegram__onFirstSceneLoaded.asyncCallback17815044(runtimeScene, eventsFunctionContext, asyncObjectsList)));
}
}

}


};gdjs.evtsExt__Telegram__onFirstSceneLoaded.asyncCallback17814532 = function (runtimeScene, eventsFunctionContext, asyncObjectsList) {
asyncObjectsList.restoreLocalVariablesContainers(eventsFunctionContext.localVariables);
{gdjs.evtsExt__Telegram__MountTheme.func(runtimeScene, eventsFunctionContext);
}
{ //Subevents
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList1(runtimeScene, eventsFunctionContext, asyncObjectsList);} //End of subevents
eventsFunctionContext.localVariables.length = 0;
}
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList2 = function(runtimeScene, eventsFunctionContext) {

{


{
{
const asyncObjectsList = new gdjs.LongLivedObjectsList();
asyncObjectsList.backupLocalVariablesContainers(eventsFunctionContext.localVariables);
runtimeScene.getAsyncTasksManager().addTask(gdjs.evtsExt__Telegram__InitTG.func(runtimeScene, eventsFunctionContext), (runtimeScene) => (gdjs.evtsExt__Telegram__onFirstSceneLoaded.asyncCallback17814532(runtimeScene, eventsFunctionContext, asyncObjectsList)));
}
}

}


};gdjs.evtsExt__Telegram__onFirstSceneLoaded.userFunc0xab1af0 = function GDJSInlineCode(runtimeScene, eventsFunctionContext) {
"use strict";
//console.log(window.tg)
window.tg.buttonClicked = false
window.tg.settingsButtonClicked = false
};
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList3 = function(runtimeScene, eventsFunctionContext) {

{


gdjs.evtsExt__Telegram__onFirstSceneLoaded.userFunc0xa9bb10(runtimeScene, eventsFunctionContext);

}


{


let isConditionTrue_0 = false;
{

{ //Subevents
gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList2(runtimeScene, eventsFunctionContext);} //End of subevents
}

}


{



}


{


let isConditionTrue_0 = false;
isConditionTrue_0 = false;
isConditionTrue_0 = !(gdjs.evtsExt__Telegram__isTMA.func(runtimeScene, eventsFunctionContext));
if (isConditionTrue_0) {
{gdjs.evtsExt__Telegram__mockTelegramEnv.func(runtimeScene, eventsFunctionContext);
}}

}


{


gdjs.evtsExt__Telegram__onFirstSceneLoaded.userFunc0xab1af0(runtimeScene, eventsFunctionContext);

}


};

gdjs.evtsExt__Telegram__onFirstSceneLoaded.func = function(runtimeScene, parentEventsFunctionContext) {
var eventsFunctionContext = {
  _objectsMap: {
},
  _objectArraysMap: {
},
  _behaviorNamesMap: {
},
  globalVariablesForExtension: runtimeScene.getGame().getVariablesForExtension("Telegram"),
  sceneVariablesForExtension: runtimeScene.getScene().getVariablesForExtension("Telegram"),
  localVariables: [],
  getObjects: function(objectName) {
    return eventsFunctionContext._objectArraysMap[objectName] || [];
  },
  getObjectsLists: function(objectName) {
    return eventsFunctionContext._objectsMap[objectName] || null;
  },
  getBehaviorName: function(behaviorName) {
    return eventsFunctionContext._behaviorNamesMap[behaviorName] || behaviorName;
  },
  createObject: function(objectName) {
    const objectsList = eventsFunctionContext._objectsMap[objectName];
    if (objectsList) {
      const object = parentEventsFunctionContext ?
        parentEventsFunctionContext.createObject(objectsList.firstKey()) :
        runtimeScene.createObject(objectsList.firstKey());
      if (object) {
        objectsList.get(objectsList.firstKey()).push(object);
        eventsFunctionContext._objectArraysMap[objectName].push(object);
      }
      return object;    }
    return null;
  },
  getInstancesCountOnScene: function(objectName) {
    const objectsList = eventsFunctionContext._objectsMap[objectName];
    let count = 0;
    if (objectsList) {
      for(const objectName in objectsList.items)
        count += parentEventsFunctionContext ?
parentEventsFunctionContext.getInstancesCountOnScene(objectName) :
        runtimeScene.getInstancesCountOnScene(objectName);
    }
    return count;
  },
  getLayer: function(layerName) {
    return runtimeScene.getLayer(layerName);
  },
  getArgument: function(argName) {
    return "";
  },
  getOnceTriggers: function() { return runtimeScene.getOnceTriggers(); }
};


gdjs.evtsExt__Telegram__onFirstSceneLoaded.eventsList3(runtimeScene, eventsFunctionContext);


return;
}

gdjs.evtsExt__Telegram__onFirstSceneLoaded.registeredGdjsCallbacks = [];
gdjs.evtsExt__Telegram__onFirstSceneLoaded.registeredGdjsCallbacks.push((runtimeScene) => {
    gdjs.evtsExt__Telegram__onFirstSceneLoaded.func(runtimeScene, runtimeScene);
})
gdjs.registerFirstRuntimeSceneLoadedCallback(gdjs.evtsExt__Telegram__onFirstSceneLoaded.registeredGdjsCallbacks[gdjs.evtsExt__Telegram__onFirstSceneLoaded.registeredGdjsCallbacks.length - 1]);
